# Домашнее задание к занятию «Active Directory. Часть 2»

В качестве результата пришлите ответы на вопросы в личном кабинете студента на сайте [netology.ru](https://netology.ru/).

Для выполнения работы можно воспользоваться виртуальной машиной из Домашнее задание к занятию «Active Directory. Часть 1».

Настройки виртуальной машины (для пользователей с процессорами ARM (M Apple Silicon или другими) можно воспользоваться [системой визуализации](https://www.qemu.org/) (для [Apple Mac](https://github.com/utmapp/UTM)) ([docs](https://docs.getutm.app/))).

## 

### Задание 1

Проведите самостоятельный аудит установленного на прошлом занятии DC, опираясь на лекцию. 

Проведете проверку системы при помощи [DCDiag.](https://learn.microsoft.com/ru-ru/windows-server/administration/windows-commands/dcdiag)

*Дайте ответ в свободной форме.*
Результаты теста

![test.txt](test.txt)
------
```
На основании проведенных тестов с помощью DCDiag можно сделать следующие выводы:

Общие результаты
Большинство базовых тестов пройдены успешно, включая:
Connectivity (подключение)
Advertising (объявление DC)
SysVolCheck (проверка SYSVOL)
Replications (репликация)
Services (сервисы)
SystemLog (системные журналы)

Выявленные проблемы
1. Проблема с DFSR (не пройдена проверка DFSREvent)
Суть проблемы: В журналах за последние 24 часа обнаружены предупреждения или ошибки, связанные с репликацией SYSVOL

Последствия: Могут возникнуть проблемы с применением групповых политик

2. Проблемы с DNS (не пройдена проверка DNS)
Выявлено несколько серьезных проблем:

a) Динамический IP-адрес
Суть: Сетевой адаптер имеет динамический IP-адрес (08:00:27:E3:2D:DF)

Последствия: Для контроллера домена крайне рекомендуется статический IP-адрес

b) Проблемы с пересылками и корневыми ссылками
Суть: Все пересылки недопустимы, корневые ссылки повреждены или не настроены

Последствия: Проблемы с разрешением внешних DNS-имен

```

## Дополнительные задания со звёздочкой.

Эти задания необязательные. Их выполнение никак не влияет на получение зачёта по домашней работе. Вы можете их выполнить, если хотите усвоить полученный материал и лучше разобраться в теме.

------

### Задание 2*

Установите утилиту AD ACL Scanner и проведите аудит DC.

*Дайте ответ в свободной форме.*

------

### Задание 3*

Установите утилиту BloodHound и проведите аудит DC.

Для выполнения данного задания требуется создать директорию в DC, которая не проверяется встроенной системой безопасности (https://learn.microsoft.com/ru-ru/defender-endpoint/configure-extension-file-exclusions-microsoft-defender-antivirus). 

Для функционирования BloodHound требуется база данных neo4j, для установки neo4j можно воспользоваться [инструкцией](https://neo4jrb.readthedocs.io/en/stable/Setup.html). 
Мы рекомендуем развернуть на хостовой машине Docker и воспользоваться уже готовой [системой](https://hub.docker.com/r/bitnami/neo4j). 

*Дайте ответ в свободной форме..*
